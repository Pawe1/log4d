<?xml version="1.0"?>
<!DOCTYPE log4d:configuration SYSTEM "log4d.dtd">
<!-- Sample Log4D configuration file as an XML document. -->
<log4d:configuration xmlns:log4d="urn:log4d"
  categoryFactory="TLogDefaultCategoryFactory" debug="true"
  disable="info"> <!-- disableOverride="true" -->

  <!-- Associate object renderers with objects. -->
  <renderer renderedClass="TComponent" renderingClass="TComponentRenderer"/>

  <!-- Define appenders, with layouts and optional parameters. -->
  <appender name="ODS" class="TLogODSAppender">
    <layout class="TLogSimpleLayout"/>
  </appender>

  <appender name="Mem1" class="TMemoAppender">
    <layout class="TLogPatternLayout">
      <param name="pattern" value="%7r [%-8t] %p %c %x - %m%n"/>
    </layout>
    <param name="memo" value="memMyapp"/>
    <filter class="TLogStringFilter">
      <param name="match" value="x"/>
      <param name="acceptOnMatch" value="true"/>
    </filter>
    <filter class="TLogStringFilter">
      <param name="match" value="y"/>
      <param name="acceptOnMatch" value="false"/>
    </filter>
  </appender>

  <appender name="Mem2" class="TMemoAppender">
    <layout class="TLogSimpleLayout"/>
    <param name="memo" value="memMyappMore"/>
  </appender>

  <appender name="Mem3" class="TMemoAppender">
    <layout class="TLogHTMLLayout"/>
    <param name="memo" value="memMyappOther"/>
  </appender>

  <appender name="Mem4" class="TMemoAppender">
    <layout class="TLogXMLLayout"/>
    <param name="memo" value="memAlt"/>
  </appender>

  <appender name="Fil1" class="TLogFileAppender">
    <param name="filename" value="C:\Temp\Log4D.log"/>
    <layout class="TLogPatternLayout">
      <param name="pattern" value="%r [%t] %p %c %x - %m%n"/>
    </layout>
  </appender>

  <!--appender name="Email" class="TLogNMSMTPAppender">
    <param name="bufferSize" value="10"/>
    <param name="from" value="Log4D &lt;log4d@log4d.com&gt;"/>
    <param name="host" value="mail.log4d.com"/>
    <param name="subject" value="Log4D Demonstration"/>
    <param name="to" value="Administrator &lt;admin@log4d.com&gt;"/>
    <layout class="TLogPatternLayout">
      <param name="pattern" value="%r [%t] %p %c %x - %m%n"/>
    </layout>
  </appender-->

  <!-- Define categories and their priorities and appenders. -->
  <category name="myapp">
    <priority value="inherited"/>
    <appender-ref ref="Mem1"/>
  </category>
  <category name="myapp.more">
    <priority value="debug"/>
    <appender-ref ref="Mem2"/>
  </category>
  <category name="myapp.other" additive="false">
    <priority value="info"/>
    <appender-ref ref="Mem3"/>
    <!--appender-ref ref="Email"/-->
  </category>
  <category name="alt">
    <priority value="error"/>
    <appender-ref ref="Mem4"/>
    <appender-ref ref="Fil1"/>
  </category>

  <!-- Establish the root category's properties. -->
  <root>
    <priority value="warn"/>
    <appender-ref ref="ODS"/>
  </root>
</log4d:configuration>

